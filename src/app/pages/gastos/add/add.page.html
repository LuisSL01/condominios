<app-menu-header></app-menu-header>

<app-header titulo="Nuevo gasto"></app-header>

<!--style="
color: #50c8ec;
margin-left: -20px;
" -->
<ion-content>
  <form [formGroup]="createGasto" (ngSubmit)="save()">
    <ion-list>

      <ion-item>
        <ion-label>
          <ion-icon name="alarm-outline" style="font-size:23px; color: #50c8ec; 
              margin-bottom: -5px;"></ion-icon>&nbsp;&nbsp;Fecha
        </ion-label>
        <ion-datetime style="margin-bottom: -8px;" displayFormat="DD/MM/YYYY"
          cancelText="Descartar" doneText="Aceptar" formControlName="fechaGasto"
          (ionChange)="cambioFecha($event)">
        </ion-datetime>
      </ion-item>

      <ion-item>
        <ion-label>
          <ion-icon name="receipt-outline" style="font-size:23px; color: #50c8ec; 
              margin-bottom: -5px;"></ion-icon>&nbsp;&nbsp;Tipo de registro
        </ion-label>
        <ion-select formControlName="tipoGasto"  okText="Aceptar"
          cancelText="Cancelar">
          <ion-select-option value="Gasto general">Gasto general</ion-select-option>
          <ion-select-option value="Vigilancia">Vigilancia</ion-select-option>
          <ion-select-option value="Jardineria">Jardinería</ion-select-option>
          <ion-select-option value="Limpieza">Limpieza</ion-select-option>
          <ion-select-option value="Mantenimiento general">Mantenimiento general</ion-select-option>
        </ion-select>
      </ion-item>

      <div formGroupName="data">
        <ion-item>
          <ion-label>
            <ion-icon name="calculator-outline" style="font-size:23px; color: #50c8ec; 
                margin-bottom: -5px;"></ion-icon>&nbsp;&nbsp;Cantidad
          </ion-label>
          <ion-input formControlName="cantidad" type="number">
          </ion-input>
        </ion-item>
        <ion-item>
          <ion-label>
            <ion-icon name="pencil-outline" style="font-size:23px; color: #50c8ec; 
                margin-bottom: -5px;"></ion-icon>&nbsp;&nbsp;Descripción
          </ion-label>
          <ion-textarea rows="1" cols="1" style="margin-top: -20px;" 
          formControlName="descripcion">
          </ion-textarea>
        </ion-item>
        <ion-item>
          <ion-label>
            <ion-icon name="cash-outline" style="font-size:23px; color: #50c8ec; 
                margin-bottom: -5px;"></ion-icon>&nbsp;&nbsp;Forma de pago
          </ion-label>
          <ion-select formControlName="formaPago" 
            okText="Aceptar" cancelText="Cancelar">
            <ion-select-option value="Efectivo">Efectivo</ion-select-option>
            <ion-select-option value="Transferencia">Transferencia</ion-select-option>
            <ion-select-option value="Otro">Otro</ion-select-option>
          </ion-select>
        </ion-item>
      </div>

      <ion-item>
        <ion-button fill="clear" size="small" (click)="camara()">
          <ion-icon slot="start" name="camera-outline" style="font-size:23px; color: #50c8ec;"></ion-icon>
        </ion-button>

        <ion-button fill="clear" size="small" (click)="libreria()">
          <ion-icon slot="start" name="image-outline" style="font-size:23px; color: #50c8ec;"></ion-icon>
        </ion-button>
      </ion-item>

      <ion-item>
        <ion-col size="3" *ngFor="let dat of files">          
          <ion-card>            
            <img  src="{{pathBase64}}{{dat.base64}}">
          </ion-card>
        </ion-col>
      </ion-item>

    </ion-list>
    <app-buttons valueLinkCancel="/gastos" valueDisabled="{{ ! createGasto.valid}}"></app-buttons>
    <app-footer></app-footer>

  </form>
</ion-content>
